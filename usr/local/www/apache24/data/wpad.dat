function FindProxyForURL(url, host) {
    var SQUID = "PROXY 172.16.172.250:3128";
    var SQUID2 = "PROXY 172.16.172.248:3128";
    var IWS1 = "PROXY 172.20.40.174:3312";
    var IWS2 = "PROXY 172.20.40.175:3312";
    var MWG1 = "PROXY 172.31.172.80:9098";
    var MWG2 = "PROXY 172.31.172.82:9098";
    var MWG = "PROXY 172.31.172.90:9098";
    var NO_PROXY = "DIRECT";

    var SQUID_IWS = SQUID + "; " + IWS1;
    var SQUID_MWG = SQUID + "; " + MWG;
    var MWG_SQUID = MWG + "; " + SQUID;

    var DIGITAL_URL = /^(https?|ftp):\/\/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/;

// Internal digital URLs without proxy
    if ((DIGITAL_URL.test(url)) &&
       (isInNet(host, "10.0.0.0", "255.0.0.0") ||
        isInNet(host, "127.0.0.0", "255.0.0.0") ||
        isInNet(host, "172.16.0.0", "255.240.0.0") ||
        isInNet(host, "192.168.0.0", "255.255.0.0"))) return NO_PROXY;

// Internal domains URL without proxy
    if (shExpMatch(host, "*\.up") ||
        shExpMatch(host, "*local\.wild\-fielded\.site") ||
        shExpMatch(host, "localhost\.*") ||
        isPlainHostName(host)) return NO_PROXY;

// Something through Squid
    if (shExpMatch(host, "*aliexpress*")) return SQUID;
    if (dnsDomainIs(host, "edu.up-ups.info")) return SQUID;

// Something through MWG
    if (dnsDomainIs(host, "elibrary.ru")) return MWG1;
    if (shExpMatch(url, "*mail*")) return MWG;
    if (shExpMatch(url, "*youto\.be*")) return MWG;
    if (shExpMatch(host, "*sberbank.ru")) return MWG;
    if (!(shExpMatch(host, "*\.ru"))) return MWG;

// BY DEFAULT
    return SQUID_IWS;
}
